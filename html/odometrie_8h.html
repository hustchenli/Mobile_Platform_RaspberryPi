<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>MS03: odometrie.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">MS03
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">odometrie.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>combined with a new thread, this class can through the pid control achieve the function that makes the mobile move straightly and move around stable.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;QApplication&gt;</code><br />
<code>#include &lt;QObject&gt;</code><br />
<code>#include &lt;<a class="el" href="dcmotor_8h_source.html">dcmotor.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="encoder_8h_source.html">encoder.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="colorsensor_8h_source.html">colorsensor.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="ultrasonicsensor_8h_source.html">ultrasonicsensor.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="linesensor_8h_source.html">linesensor.h</a>&gt;</code><br />
<code>#include &lt;time.h&gt;</code><br />
<code>#include &lt;unistd.h&gt;</code><br />
<code>#include &lt;iostream&gt;</code><br />
<code>#include &lt;wiringPi.h&gt;</code><br />
<code>#include &lt;wiringPiI2C.h&gt;</code><br />
<code>#include &lt;QThread&gt;</code><br />
<code>#include &lt;<a class="el" href="abstractsensor_8h_source.html">abstractsensor.h</a>&gt;</code><br />
<code>#include &lt;math.h&gt;</code><br />
<code>#include &lt;QtCore&gt;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for odometrie.h:</div>
<div class="dyncontent">
<div class="center"><img src="odometrie_8h__incl.png" border="0" usemap="#odometrie_8h" alt=""/></div>
<map name="odometrie_8h" id="odometrie_8h">
<area shape="rect" id="node4" href="dcmotor_8h.html" title="to control the motor " alt="" coords="23,155,110,181"/>
<area shape="rect" id="node8" href="encoder_8h.html" title="measures the rotation angle of two wheels. " alt="" coords="1277,80,1362,107"/>
<area shape="rect" id="node14" href="abstractsensor_8h.html" title="build a abstract class for all sensors " alt="" coords="1098,155,1227,181"/>
<area shape="rect" id="node15" href="colorsensor_8h.html" title="to sense the different color " alt="" coords="1096,80,1202,107"/>
<area shape="rect" id="node16" href="ultrasonicsensor_8h.html" title="a sensor class for the sensor that can measure the hight from the ground to the above obstacle ..." alt="" coords="1386,80,1525,107"/>
<area shape="rect" id="node17" href="linesensor_8h.html" title="to get the siganl of sensors " alt="" coords="973,80,1072,107"/>
</map>
</div>
</div><div class="textblock"><div class="dynheader">
This graph shows which files directly or indirectly include this file:</div>
<div class="dyncontent">
<div class="center"><img src="odometrie_8h__dep__incl.png" border="0" usemap="#odometrie_8hdep" alt=""/></div>
<map name="odometrie_8hdep" id="odometrie_8hdep">
<area shape="rect" id="node2" href="mainwindow_8h.html" title="build the GUI for the program " alt="" coords="5,80,116,107"/>
<area shape="rect" id="node4" href="mobileplatform_8h.html" title="to build new instances, and connect the sensor with Threads " alt="" coords="141,80,271,107"/>
<area shape="rect" id="node3" href="controlsystem_8h.html" title="to connect the GUI and member funktion " alt="" coords="70,155,195,181"/>
</map>
</div>
</div>
<p><a href="odometrie_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_odometrie.html">Odometrie</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a8148aee7cc119b790e7842b0c48bb505"><td class="memItemLeft" align="right" valign="top"><a id="a8148aee7cc119b790e7842b0c48bb505"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>nMapLeftWheelVelocityKp</b>&#160;&#160;&#160;7</td></tr>
<tr class="separator:a8148aee7cc119b790e7842b0c48bb505"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab6395a5e158b3f02a0070beea15bf485"><td class="memItemLeft" align="right" valign="top"><a id="ab6395a5e158b3f02a0070beea15bf485"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>nMapLeftWheelVelocityKi</b>&#160;&#160;&#160;8</td></tr>
<tr class="separator:ab6395a5e158b3f02a0070beea15bf485"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a586c72fef97ff9c9b8364ae2f27913d1"><td class="memItemLeft" align="right" valign="top"><a id="a586c72fef97ff9c9b8364ae2f27913d1"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>nMapLeftWheelVelocityKd</b>&#160;&#160;&#160;9</td></tr>
<tr class="separator:a586c72fef97ff9c9b8364ae2f27913d1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad912ff462d67a5b1b9aa8be82ea1fe72"><td class="memItemLeft" align="right" valign="top"><a id="ad912ff462d67a5b1b9aa8be82ea1fe72"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>nMapRightWheelVelocityKp</b>&#160;&#160;&#160;10</td></tr>
<tr class="separator:ad912ff462d67a5b1b9aa8be82ea1fe72"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afaf4a48cc0a60682708519d365b26350"><td class="memItemLeft" align="right" valign="top"><a id="afaf4a48cc0a60682708519d365b26350"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>nMapRightWheelVelocityKi</b>&#160;&#160;&#160;11</td></tr>
<tr class="separator:afaf4a48cc0a60682708519d365b26350"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a86c0d7a6340557918fca301569712a53"><td class="memItemLeft" align="right" valign="top"><a id="a86c0d7a6340557918fca301569712a53"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>nMapRightWheelVelocityKd</b>&#160;&#160;&#160;12</td></tr>
<tr class="separator:a86c0d7a6340557918fca301569712a53"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a9256b2a6aa5304a29848defa2d8fde61"><td class="memItemLeft" align="right" valign="top"><a id="a9256b2a6aa5304a29848defa2d8fde61"></a>
double&#160;</td><td class="memItemRight" valign="bottom"><b>velocityA</b></td></tr>
<tr class="separator:a9256b2a6aa5304a29848defa2d8fde61"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7ead5cae07981a521fa4ec9ec828ca8d"><td class="memItemLeft" align="right" valign="top"><a id="a7ead5cae07981a521fa4ec9ec828ca8d"></a>
double&#160;</td><td class="memItemRight" valign="bottom"><b>velocityB</b></td></tr>
<tr class="separator:a7ead5cae07981a521fa4ec9ec828ca8d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>combined with a new thread, this class can through the pid control achieve the function that makes the mobile move straightly and move around stable. </p>
<dl class="section author"><dt>Author</dt><dd>Li Chen, Hongyu Zhao Team004 </dd></dl>
<dl class="section date"><dt>Date</dt><dd>25-Jul-2018 this class includes three follow another executed line or rotation movement. Those three parts of movement are both controled by similar PID controller, which have different control prameters for the speed control. Using the showed on the GUI real time diagramm, the PID parameter could be adjusted to the suitable value(using the qcustomplot widgt). Besides, the position controller are also be used here, when the mobileplatform comes approach to the destination, the velocity will go down and become lower than the start velocity. </dd></dl>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
